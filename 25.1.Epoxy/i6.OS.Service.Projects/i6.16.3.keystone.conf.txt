# i6.16.5.keystone.conf.txt
#
# to be copied to:
# /etc/keystone/keystone.conf
#
# https://docs.openstack.org/keystone/2025.1/configuration/index.html
# https://docs.openstack.org/keystone/2025.1/configuration/samples/keystone-conf.html
# https://docs.openstack.org/keystone/2025.1/_static/keystone.conf.sample
#

[DEFAULT]
log_dir = /var/log/keystone


[database]
# connection = mysql+pymysql://keystone:KEYSTONE_DBPASS@controller/keystone
connection = mysql+pymysql://keystone:openstack@controller/keystone

# Recommended by Grok

# 1. Keep connections alive
max_pool_size = 20
pool_timeout = 30
connection_recycle_time = 600
# seconds – recycle every 10 min
# 2. Retry on lost connection
retry_on_disconnect = True
max_retries = 3
retry_interval = 2

# Optional – explicit timeouts
connect_timeout = 5


[token]
provider = fernet


[oslo_policy]
policy_file = /etc/keystone/policy.yaml


[identity]
password_hash_algorithm = scrypt
